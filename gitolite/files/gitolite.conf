{%- from "gitolite/map.jinja" import server with context -%}
# apt.conf file managed by salt-minion
# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN

## User groups
{%- for name, group in server.group.iteritems() %}
@{{ name }} = {{ group.members|join(' ') }}
{%- endfor %}

## Repositories
{%- for name, repo in server.repository.iteritems() %}
repo {{ repo.name|default(name) }}
    {%- for permission, members in repo.permission.iteritems() %}
    {{ permission }} = {{ members|join(' ') }}
    {%- endfor %}

{%- endfor %}

{#-
vim: syntax=jinja
-#}
